2025-08-04 11:12:21,216 - app - INFO - Model loaded successfully from /Volumes/Development/Development/assignment/MLOps_ASS1/src/api/../../models/model.pkl
2025-08-04 11:13:27,709 - app - INFO - Model loaded successfully from /Volumes/Development/Development/assignment/MLOps_ASS1/src/api/../../models/model.pkl
2025-08-04 11:13:27,711 - app - INFO - ==================================================
2025-08-04 11:13:27,711 - app - INFO - California Housing Prediction API Starting...
2025-08-04 11:13:27,711 - app - INFO - Model path: /Volumes/Development/Development/assignment/MLOps_ASS1/src/api/../../models/model.pkl
2025-08-04 11:13:27,711 - app - INFO - Model loaded: True
2025-08-04 11:13:27,711 - app - INFO - Database initialized: True
2025-08-04 11:13:27,711 - app - INFO - Logs directory: logs/
2025-08-04 11:13:27,711 - app - INFO - ==================================================
2025-08-04 11:13:54,978 - app - INFO - Model loaded successfully from /Volumes/Development/Development/assignment/MLOps_ASS1/src/api/../../models/model.pkl
2025-08-04 11:13:54,979 - app - INFO - ==================================================
2025-08-04 11:13:54,979 - app - INFO - California Housing Prediction API Starting...
2025-08-04 11:13:54,979 - app - INFO - Model path: /Volumes/Development/Development/assignment/MLOps_ASS1/src/api/../../models/model.pkl
2025-08-04 11:13:54,979 - app - INFO - Model loaded: True
2025-08-04 11:13:54,979 - app - INFO - Database initialized: True
2025-08-04 11:13:54,979 - app - INFO - Logs directory: logs/
2025-08-04 11:13:54,979 - app - INFO - ==================================================
2025-08-04 11:14:14,410 - app - INFO - Model loaded successfully from /Volumes/Development/Development/assignment/MLOps_ASS1/src/api/../../models/model.pkl
2025-08-04 11:14:14,411 - app - INFO - ==================================================
2025-08-04 11:14:14,411 - app - INFO - California Housing Prediction API Starting...
2025-08-04 11:14:14,411 - app - INFO - Model path: /Volumes/Development/Development/assignment/MLOps_ASS1/src/api/../../models/model.pkl
2025-08-04 11:14:14,411 - app - INFO - Model loaded: True
2025-08-04 11:14:14,411 - app - INFO - Database initialized: True
2025-08-04 11:14:14,411 - app - INFO - Logs directory: logs/
2025-08-04 11:14:14,411 - app - INFO - ==================================================
2025-08-04 11:14:32,565 - app - INFO - Prepared input features: ['longitude', 'latitude', 'housing_median_age', 'total_rooms', 'total_bedrooms', 'population', 'households', 'median_income', 'rooms_per_household', 'bedrooms_per_room', 'population_per_household', 'ocean_proximity']
2025-08-04 11:14:32,573 - app - INFO - Health check completed: healthy
2025-08-04 11:14:41,670 - app - INFO - Prepared input features: ['longitude', 'latitude', 'housing_median_age', 'total_rooms', 'total_bedrooms', 'population', 'households', 'median_income', 'rooms_per_household', 'bedrooms_per_room', 'population_per_household', 'ocean_proximity']
2025-08-04 11:14:41,674 - app - INFO - Successful prediction: 371300.0 (processing time: 0.004s)
2025-08-04 11:30:37,943 - app_enhanced - INFO - Model loaded successfully from /Volumes/Development/Development/assignment/MLOps_ASS1/src/api/../../models/model.pkl
2025-08-04 11:30:37,944 - app_enhanced - INFO - ==================================================
2025-08-04 11:30:37,944 - app_enhanced - INFO - California Housing Prediction API Starting...
2025-08-04 11:30:37,944 - app_enhanced - INFO - Model loaded: True
2025-08-04 11:30:37,944 - app_enhanced - INFO - Database initialized: True
2025-08-04 11:30:37,944 - app_enhanced - INFO - Retraining trigger initialized: True
2025-08-04 11:30:37,944 - app_enhanced - INFO - Logs directory: logs/
2025-08-04 11:30:37,944 - app_enhanced - INFO - ==================================================
2025-08-04 11:31:26,383 - app_enhanced - INFO - Model loaded successfully from /Volumes/Development/Development/assignment/MLOps_ASS1/src/api/../../models/model.pkl
2025-08-04 11:31:26,384 - app_enhanced - INFO - ==================================================
2025-08-04 11:31:26,384 - app_enhanced - INFO - California Housing Prediction API Starting...
2025-08-04 11:31:26,385 - app_enhanced - INFO - Model loaded: True
2025-08-04 11:31:26,385 - app_enhanced - INFO - Database initialized: True
2025-08-04 11:31:26,385 - app_enhanced - INFO - Retraining trigger initialized: True
2025-08-04 11:31:26,385 - app_enhanced - INFO - Logs directory: logs/
2025-08-04 11:31:26,385 - app_enhanced - INFO - ==================================================
2025-08-04 11:31:52,376 - app_enhanced - INFO - Model loaded successfully from /Volumes/Development/Development/assignment/MLOps_ASS1/src/api/../../models/model.pkl
2025-08-04 11:31:52,378 - app_enhanced - INFO - ==================================================
2025-08-04 11:31:52,378 - app_enhanced - INFO - California Housing Prediction API Starting...
2025-08-04 11:31:52,378 - app_enhanced - INFO - Model loaded: True
2025-08-04 11:31:52,378 - app_enhanced - INFO - Database initialized: True
2025-08-04 11:31:52,378 - app_enhanced - INFO - Retraining trigger initialized: True
2025-08-04 11:31:52,378 - app_enhanced - INFO - Logs directory: logs/
2025-08-04 11:31:52,378 - app_enhanced - INFO - ==================================================
2025-08-04 11:32:05,495 - app_enhanced - INFO - Input validation successful with 0 warnings
2025-08-04 11:32:05,501 - app_enhanced - INFO - Prepared input features: ['longitude', 'latitude', 'housing_median_age', 'total_rooms', 'total_bedrooms', 'population', 'households', 'median_income', 'rooms_per_household', 'bedrooms_per_room', 'population_per_household', 'ocean_proximity']
2025-08-04 11:32:05,507 - app_enhanced - INFO - Successful prediction: 371300.0 (processing time: 0.009s)
2025-08-04 11:32:31,728 - app_enhanced - ERROR - Prediction error: 1 validation error for ErrorResponse
details
  Input should be a valid dictionary [type=dict_type, input_value=[{'type': 'value_error', ...ev/2.10/v/value_error'}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.10/v/dict_type
2025-08-04 11:32:31,730 - app_enhanced - ERROR - Traceback: Traceback (most recent call last):
  File "/Volumes/Development/Development/assignment/MLOps_ASS1/src/api/app_enhanced.py", line 244, in predict
    error_response = ErrorResponse(
                     ^^^^^^^^^^^^^^
  File "/Users/jeetendra/anaconda3/envs/BITSAIML/lib/python3.11/site-packages/pydantic/main.py", line 214, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for ErrorResponse
details
  Input should be a valid dictionary [type=dict_type, input_value=[{'type': 'value_error', ...ev/2.10/v/value_error'}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.10/v/dict_type

2025-08-04 11:32:43,518 - app_enhanced - ERROR - Prediction error: 1 validation error for ErrorResponse
details
  Input should be a valid dictionary [type=dict_type, input_value=[{'type': 'greater_than_e...antic.dev/2.10/v/enum'}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.10/v/dict_type
2025-08-04 11:32:43,519 - app_enhanced - ERROR - Traceback: Traceback (most recent call last):
  File "/Volumes/Development/Development/assignment/MLOps_ASS1/src/api/app_enhanced.py", line 244, in predict
    error_response = ErrorResponse(
                     ^^^^^^^^^^^^^^
  File "/Users/jeetendra/anaconda3/envs/BITSAIML/lib/python3.11/site-packages/pydantic/main.py", line 214, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for ErrorResponse
details
  Input should be a valid dictionary [type=dict_type, input_value=[{'type': 'greater_than_e...antic.dev/2.10/v/enum'}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.10/v/dict_type

2025-08-04 11:33:02,528 - app_enhanced - ERROR - Prediction error: 1 validation error for ErrorResponse
details
  Input should be a valid dictionary [type=dict_type, input_value=[{'type': 'missing', 'loc...ic.dev/2.10/v/missing'}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.10/v/dict_type
2025-08-04 11:33:02,529 - app_enhanced - ERROR - Traceback: Traceback (most recent call last):
  File "/Volumes/Development/Development/assignment/MLOps_ASS1/src/api/app_enhanced.py", line 244, in predict
    error_response = ErrorResponse(
                     ^^^^^^^^^^^^^^
  File "/Users/jeetendra/anaconda3/envs/BITSAIML/lib/python3.11/site-packages/pydantic/main.py", line 214, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 1 validation error for ErrorResponse
details
  Input should be a valid dictionary [type=dict_type, input_value=[{'type': 'missing', 'loc...ic.dev/2.10/v/missing'}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.10/v/dict_type

2025-08-04 11:34:39,587 - app_enhanced - INFO - Model loaded successfully from /Volumes/Development/Development/assignment/MLOps_ASS1/src/api/../../models/model.pkl
2025-08-04 11:34:39,589 - app_enhanced - INFO - ==================================================
2025-08-04 11:34:39,589 - app_enhanced - INFO - California Housing Prediction API Starting...
2025-08-04 11:34:39,589 - app_enhanced - INFO - Model loaded: True
2025-08-04 11:34:39,589 - app_enhanced - INFO - Database initialized: True
2025-08-04 11:34:39,589 - app_enhanced - INFO - Retraining trigger initialized: True
2025-08-04 11:34:39,589 - app_enhanced - INFO - Logs directory: logs/
2025-08-04 11:34:39,589 - app_enhanced - INFO - ==================================================
2025-08-04 11:35:09,402 - app_enhanced - INFO - Batch validation successful with 0 warnings
2025-08-04 11:35:09,427 - app_enhanced - INFO - Batch prediction completed: 2 predictions (processing time: 0.026s)
2025-08-04 11:49:34,871 - app_enhanced - INFO - Input validation successful with 0 warnings
2025-08-04 11:49:34,906 - app_enhanced - INFO - Prepared input features: ['longitude', 'latitude', 'housing_median_age', 'total_rooms', 'total_bedrooms', 'population', 'households', 'median_income', 'rooms_per_household', 'bedrooms_per_room', 'population_per_household', 'ocean_proximity']
2025-08-04 11:49:34,923 - app_enhanced - INFO - Successful prediction: 371300.0 (processing time: 0.048s)
2025-08-04 11:49:34,934 - app_enhanced - INFO - Batch validation successful with 0 warnings
2025-08-04 11:49:34,938 - app_enhanced - INFO - Batch prediction completed: 2 predictions (processing time: 0.004s)
2025-08-04 11:49:34,942 - app_enhanced - INFO - Health check completed: healthy
2025-08-04 11:49:34,944 - app_enhanced - INFO - Manual retrain triggered via API. Reason: manual_api_trigger
2025-08-06 06:34:37,626 - src.utils.monitoring - INFO - Registered health check: disk_space
2025-08-06 06:34:37,626 - src.utils.monitoring - INFO - Registered health check: memory_usage
2025-08-06 06:34:37,626 - src.utils.monitoring - INFO - Registered health check: cpu_usage
2025-08-06 06:34:37,627 - src.utils.monitoring - INFO - Registered health check: model_loaded
2025-08-06 06:34:37,627 - src.utils.monitoring - INFO - Registered health check: database_connection
2025-08-06 06:34:37,627 - src.utils.monitoring - INFO - Registered health check: mlflow_connection
2025-08-06 06:34:37,627 - root - INFO - Initializing California Housing API...
2025-08-06 06:34:37,628 - src.utils.mlflow_tracking - INFO - MLflow Model Registry initialized with tracking URI: http://localhost:5002
2025-08-06 06:34:37,816 - src.utils.mlflow_tracking - INFO - MLflow Experiment Tracker initialized for experiment: california_housing_api
2025-08-06 06:34:37,816 - src.utils.mlflow_tracking - INFO - MLflow tracking components initialized successfully
2025-08-06 06:34:37,816 - root - INFO - MLflow tracking components initialized successfully
2025-08-06 06:34:37,816 - src.models.predict - INFO - MLflow registry initialized for model loading
2025-08-06 06:34:37,838 - src.utils.mlflow_tracking - WARNING - No model in Production stage, using latest version: 1
2025-08-06 06:34:39,008 - src.utils.mlflow_tracking - INFO - Loaded model california_housing_best_model version 1 from registry
2025-08-06 06:34:39,008 - src.models.predict - INFO - Model loaded from MLflow registry: california_housing_best_model version 1 (stage: None)
2025-08-06 06:34:39,027 - src.utils.mlflow_tracking - WARNING - No model in Production stage, using latest version: 1
2025-08-06 06:34:39,038 - src.utils.mlflow_tracking - WARNING - No model in Staging stage, using latest version: 1
2025-08-06 06:34:39,047 - src.utils.mlflow_tracking - WARNING - No model in Archived stage, using latest version: 1
2025-08-06 06:34:39,047 - api - INFO - Model loaded
2025-08-06 06:34:39,047 - root - INFO - Model loaded successfully: california_housing_best_model
2025-08-06 06:34:39,048 - src.utils.database - INFO - Database tables initialized successfully
2025-08-06 06:34:39,048 - src.utils.database - INFO - Initialized prediction database at logs/predictions.db
2025-08-06 06:34:39,048 - root - INFO - Database initialized successfully
2025-08-06 06:34:39,048 - root - INFO - California Housing API initialized successfully
2025-08-06 06:34:39,050 - root - INFO - Starting California Housing API on 0.0.0.0:5001
2025-08-06 06:34:39,050 - root - INFO - Debug mode: False
2025-08-06 06:34:39,050 - root - INFO - Model path: models/model.pkl
2025-08-06 06:34:39,060 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.102:5001
2025-08-06 06:34:39,060 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-06 06:34:53,670 - src.utils.mlflow_tracking - WARNING - No model in Production stage, using latest version: 1
2025-08-06 06:34:53,678 - src.utils.mlflow_tracking - WARNING - No model in Staging stage, using latest version: 1
2025-08-06 06:34:53,687 - src.utils.mlflow_tracking - WARNING - No model in Archived stage, using latest version: 1
2025-08-06 06:34:53,691 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 06:34:53] "GET /api/model/info HTTP/1.1" 200 -
2025-08-06 06:36:10,986 - src.utils.mlflow_tracking - WARNING - No model in Production stage, using latest version: 1
2025-08-06 06:36:10,996 - src.utils.mlflow_tracking - WARNING - No model in Staging stage, using latest version: 1
2025-08-06 06:36:11,004 - src.utils.mlflow_tracking - WARNING - No model in Archived stage, using latest version: 1
2025-08-06 06:36:11,006 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 06:36:11] "GET /api/mlflow/models HTTP/1.1" 200 -
2025-08-06 06:36:21,376 - src.models.predict - INFO - Made prediction for 1 samples
2025-08-06 06:36:21,377 - src.utils.database - INFO - Logged prediction request 3 for endpoint /api/predict
2025-08-06 06:36:21,377 - api - INFO - Prediction made
2025-08-06 06:36:21,380 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 06:36:21] "POST /api/predict HTTP/1.1" 200 -
2025-08-06 06:36:30,317 - src.utils.mlflow_tracking - INFO - Model california_housing_best_model version 1 transitioned to Production
2025-08-06 06:36:30,320 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 06:36:30] "POST /api/mlflow/models/california_housing_best_model/transition HTTP/1.1" 200 -
2025-08-06 06:36:38,852 - src.utils.monitoring - ERROR - Health check database_connection failed: 'PredictionDatabase' object has no attribute 'test_connection'
2025-08-06 06:36:38,887 - src.utils.mlflow_tracking - WARNING - No model in Staging stage, using latest version: 1
2025-08-06 06:36:38,901 - src.utils.mlflow_tracking - WARNING - No model in Archived stage, using latest version: 1
2025-08-06 06:36:38,901 - api - INFO - Health check: unhealthy
2025-08-06 06:36:38,904 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 06:36:38] "GET /health HTTP/1.1" 200 -
2025-08-06 06:43:02,161 - src.models.predict - INFO - Made prediction for 1 samples
2025-08-06 06:43:02,164 - src.utils.database - INFO - Logged prediction request 4 for endpoint /api/predict
2025-08-06 06:43:02,164 - api - INFO - Prediction made
2025-08-06 06:43:02,168 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 06:43:02] "POST /api/predict HTTP/1.1" 200 -
2025-08-06 06:58:38,171 - src.utils.monitoring - INFO - Registered health check: disk_space
2025-08-06 06:58:38,171 - src.utils.monitoring - INFO - Registered health check: memory_usage
2025-08-06 06:58:38,171 - src.utils.monitoring - INFO - Registered health check: cpu_usage
2025-08-06 06:58:38,176 - src.utils.monitoring - INFO - Registered health check: model_loaded
2025-08-06 06:58:38,176 - src.utils.monitoring - INFO - Registered health check: database_connection
2025-08-06 06:58:38,176 - src.utils.monitoring - INFO - Registered health check: mlflow_connection
2025-08-06 06:58:38,176 - root - INFO - Initializing California Housing API...
2025-08-06 06:58:38,176 - src.utils.mlflow_tracking - INFO - MLflow Model Registry initialized with tracking URI: http://localhost:5000
2025-08-06 06:58:38,514 - src.utils.mlflow_tracking - ERROR - Error initializing MLflow tracking: API request to endpoint /api/2.0/mlflow/experiments/get-by-name failed with error code 403 != 200. Response body: ''
2025-08-06 06:58:38,515 - root - WARNING - MLflow initialization failed, continuing without MLflow
2025-08-06 06:58:38,515 - src.models.predict - INFO - MLflow registry initialized for model loading
2025-08-06 06:58:38,545 - src.utils.mlflow_tracking - ERROR - Error getting latest model version for california_housing_best_model: API request to endpoint /api/2.0/mlflow/registered-models/get-latest-versions failed with error code 403 != 200. Response body: ''
2025-08-06 06:58:38,545 - src.utils.mlflow_tracking - ERROR - Error loading model from registry: No model found for california_housing_best_model in stage Production
2025-08-06 06:58:38,545 - src.models.predict - WARNING - Failed to load model from MLflow registry: No model found for california_housing_best_model in stage Production
2025-08-06 06:58:38,545 - src.models.predict - INFO - Falling back to local model file
2025-08-06 06:58:39,650 - src.models.predict - INFO - Model loaded successfully from local file: models/model.pkl
2025-08-06 06:58:39,652 - src.utils.mlflow_tracking - ERROR - Error getting model info: API request to endpoint /api/2.0/mlflow/registered-models/get failed with error code 403 != 200. Response body: ''
2025-08-06 06:58:39,652 - api - INFO - Model loaded
2025-08-06 06:58:39,652 - root - INFO - Model loaded successfully: local_model
2025-08-06 06:58:39,653 - src.utils.database - INFO - Database tables initialized successfully
2025-08-06 06:58:39,653 - src.utils.database - INFO - Initialized prediction database at logs/predictions.db
2025-08-06 06:58:39,653 - root - INFO - Database initialized successfully
2025-08-06 06:58:39,653 - root - INFO - California Housing API initialized successfully
2025-08-06 06:58:39,655 - root - INFO - Starting California Housing API on 0.0.0.0:5001
2025-08-06 06:58:39,655 - root - INFO - Debug mode: False
2025-08-06 06:58:39,655 - root - INFO - Model path: models/model.pkl
2025-08-06 07:00:01,453 - src.utils.monitoring - INFO - Registered health check: disk_space
2025-08-06 07:00:01,453 - src.utils.monitoring - INFO - Registered health check: memory_usage
2025-08-06 07:00:01,453 - src.utils.monitoring - INFO - Registered health check: cpu_usage
2025-08-06 07:00:01,454 - src.utils.monitoring - INFO - Registered health check: model_loaded
2025-08-06 07:00:01,454 - src.utils.monitoring - INFO - Registered health check: database_connection
2025-08-06 07:00:01,454 - src.utils.monitoring - INFO - Registered health check: mlflow_connection
2025-08-06 07:00:01,454 - root - INFO - Initializing California Housing API...
2025-08-06 07:00:01,455 - src.utils.mlflow_tracking - INFO - MLflow Model Registry initialized with tracking URI: http://localhost:5000
2025-08-06 07:00:01,782 - src.utils.mlflow_tracking - ERROR - Error initializing MLflow tracking: API request to endpoint /api/2.0/mlflow/experiments/get-by-name failed with error code 403 != 200. Response body: ''
2025-08-06 07:00:01,782 - root - WARNING - MLflow initialization failed, continuing without MLflow
2025-08-06 07:00:01,782 - src.models.predict - INFO - MLflow registry initialized for model loading
2025-08-06 07:00:01,808 - src.utils.mlflow_tracking - ERROR - Error getting latest model version for california_housing_best_model: API request to endpoint /api/2.0/mlflow/registered-models/get-latest-versions failed with error code 403 != 200. Response body: ''
2025-08-06 07:00:01,809 - src.utils.mlflow_tracking - ERROR - Error loading model from registry: No model found for california_housing_best_model in stage Production
2025-08-06 07:00:01,809 - src.models.predict - WARNING - Failed to load model from MLflow registry: No model found for california_housing_best_model in stage Production
2025-08-06 07:00:01,809 - src.models.predict - INFO - Falling back to local model file
2025-08-06 07:00:02,771 - src.models.predict - INFO - Model loaded successfully from local file: models/model.pkl
2025-08-06 07:00:02,773 - src.utils.mlflow_tracking - ERROR - Error getting model info: API request to endpoint /api/2.0/mlflow/registered-models/get failed with error code 403 != 200. Response body: ''
2025-08-06 07:00:02,774 - api - INFO - Model loaded
2025-08-06 07:00:02,774 - root - INFO - Model loaded successfully: local_model
2025-08-06 07:00:02,775 - src.utils.database - INFO - Database tables initialized successfully
2025-08-06 07:00:02,775 - src.utils.database - INFO - Initialized prediction database at logs/predictions.db
2025-08-06 07:00:02,775 - root - INFO - Database initialized successfully
2025-08-06 07:00:02,775 - root - INFO - California Housing API initialized successfully
2025-08-06 07:00:02,777 - root - INFO - Starting California Housing API on 0.0.0.0:5001
2025-08-06 07:00:02,777 - root - INFO - Debug mode: False
2025-08-06 07:00:02,777 - root - INFO - Model path: models/model.pkl
2025-08-06 07:00:02,785 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.102:5001
2025-08-06 07:00:02,786 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-06 07:00:12,109 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 07:00:12] "GET /api/logs/predictions HTTP/1.1" 200 -
2025-08-06 07:00:18,947 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 07:00:18] "[35m[1mGET /api/logs/predictions/stats HTTP/1.1[0m" 500 -
2025-08-06 07:01:01,572 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 07:01:01] "[35m[1mGET /api/logs/predictions/stats HTTP/1.1[0m" 500 -
2025-08-06 07:02:37,361 - src.utils.monitoring - INFO - Registered health check: disk_space
2025-08-06 07:02:37,361 - src.utils.monitoring - INFO - Registered health check: memory_usage
2025-08-06 07:02:37,361 - src.utils.monitoring - INFO - Registered health check: cpu_usage
2025-08-06 07:03:15,558 - src.utils.monitoring - INFO - Registered health check: disk_space
2025-08-06 07:03:15,558 - src.utils.monitoring - INFO - Registered health check: memory_usage
2025-08-06 07:03:15,558 - src.utils.monitoring - INFO - Registered health check: cpu_usage
2025-08-06 07:03:15,562 - src.utils.monitoring - INFO - Registered health check: model_loaded
2025-08-06 07:03:15,562 - src.utils.monitoring - INFO - Registered health check: database_connection
2025-08-06 07:03:15,562 - src.utils.monitoring - INFO - Registered health check: mlflow_connection
2025-08-06 07:03:15,562 - root - INFO - Initializing California Housing API...
2025-08-06 07:03:15,563 - src.utils.mlflow_tracking - INFO - MLflow Model Registry initialized with tracking URI: http://localhost:5000
2025-08-06 07:03:15,853 - src.utils.mlflow_tracking - ERROR - Error initializing MLflow tracking: API request to endpoint /api/2.0/mlflow/experiments/get-by-name failed with error code 403 != 200. Response body: ''
2025-08-06 07:03:15,853 - root - WARNING - MLflow initialization failed, continuing without MLflow
2025-08-06 07:03:15,853 - src.models.predict - INFO - MLflow registry initialized for model loading
2025-08-06 07:03:15,885 - src.utils.mlflow_tracking - ERROR - Error getting latest model version for california_housing_best_model: API request to endpoint /api/2.0/mlflow/registered-models/get-latest-versions failed with error code 403 != 200. Response body: ''
2025-08-06 07:03:15,885 - src.utils.mlflow_tracking - ERROR - Error loading model from registry: No model found for california_housing_best_model in stage Production
2025-08-06 07:03:15,885 - src.models.predict - WARNING - Failed to load model from MLflow registry: No model found for california_housing_best_model in stage Production
2025-08-06 07:03:15,885 - src.models.predict - INFO - Falling back to local model file
2025-08-06 07:03:16,808 - src.models.predict - INFO - Model loaded successfully from local file: models/model.pkl
2025-08-06 07:03:16,810 - src.utils.mlflow_tracking - ERROR - Error getting model info: API request to endpoint /api/2.0/mlflow/registered-models/get failed with error code 403 != 200. Response body: ''
2025-08-06 07:03:16,810 - api - INFO - Model loaded
2025-08-06 07:03:16,810 - root - INFO - Model loaded successfully: local_model
2025-08-06 07:03:16,810 - src.utils.database - INFO - Database tables initialized successfully
2025-08-06 07:03:16,810 - src.utils.database - INFO - Initialized prediction database at logs/predictions.db
2025-08-06 07:03:16,810 - root - INFO - Database initialized successfully
2025-08-06 07:03:16,810 - root - INFO - California Housing API initialized successfully
2025-08-06 07:03:16,812 - root - INFO - Starting California Housing API on 0.0.0.0:5001
2025-08-06 07:03:16,812 - root - INFO - Debug mode: False
2025-08-06 07:03:16,812 - root - INFO - Model path: models/model.pkl
2025-08-06 07:03:16,817 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.102:5001
2025-08-06 07:03:16,817 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-06 07:04:11,854 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 07:04:11] "GET /api/logs/predictions/stats HTTP/1.1" 200 -
2025-08-06 07:04:20,505 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 07:04:20] "[35m[1mGET /api/logs/predictions/recent?count=3 HTTP/1.1[0m" 500 -
2025-08-06 07:05:42,039 - src.utils.monitoring - INFO - Registered health check: disk_space
2025-08-06 07:05:42,039 - src.utils.monitoring - INFO - Registered health check: memory_usage
2025-08-06 07:05:42,039 - src.utils.monitoring - INFO - Registered health check: cpu_usage
2025-08-06 07:05:42,043 - src.utils.monitoring - INFO - Registered health check: model_loaded
2025-08-06 07:05:42,043 - src.utils.monitoring - INFO - Registered health check: database_connection
2025-08-06 07:05:42,043 - src.utils.monitoring - INFO - Registered health check: mlflow_connection
2025-08-06 07:05:42,043 - root - INFO - Initializing California Housing API...
2025-08-06 07:05:42,043 - src.utils.mlflow_tracking - INFO - MLflow Model Registry initialized with tracking URI: http://localhost:5000
2025-08-06 07:05:42,252 - src.utils.mlflow_tracking - ERROR - Error initializing MLflow tracking: API request to endpoint /api/2.0/mlflow/experiments/get-by-name failed with error code 403 != 200. Response body: ''
2025-08-06 07:05:42,252 - root - WARNING - MLflow initialization failed, continuing without MLflow
2025-08-06 07:05:42,252 - src.models.predict - INFO - MLflow registry initialized for model loading
2025-08-06 07:05:42,268 - src.utils.mlflow_tracking - ERROR - Error getting latest model version for california_housing_best_model: API request to endpoint /api/2.0/mlflow/registered-models/get-latest-versions failed with error code 403 != 200. Response body: ''
2025-08-06 07:05:42,268 - src.utils.mlflow_tracking - ERROR - Error loading model from registry: No model found for california_housing_best_model in stage Production
2025-08-06 07:05:42,268 - src.models.predict - WARNING - Failed to load model from MLflow registry: No model found for california_housing_best_model in stage Production
2025-08-06 07:05:42,268 - src.models.predict - INFO - Falling back to local model file
2025-08-06 07:05:43,135 - src.models.predict - INFO - Model loaded successfully from local file: models/model.pkl
2025-08-06 07:05:43,137 - src.utils.mlflow_tracking - ERROR - Error getting model info: API request to endpoint /api/2.0/mlflow/registered-models/get failed with error code 403 != 200. Response body: ''
2025-08-06 07:05:43,137 - api - INFO - Model loaded
2025-08-06 07:05:43,137 - root - INFO - Model loaded successfully: local_model
2025-08-06 07:05:43,138 - src.utils.database - INFO - Database tables initialized successfully
2025-08-06 07:05:43,138 - src.utils.database - INFO - Initialized prediction database at logs/predictions.db
2025-08-06 07:05:43,138 - root - INFO - Database initialized successfully
2025-08-06 07:05:43,138 - root - INFO - California Housing API initialized successfully
2025-08-06 07:05:43,140 - root - INFO - Starting California Housing API on 0.0.0.0:5001
2025-08-06 07:05:43,140 - root - INFO - Debug mode: False
2025-08-06 07:05:43,140 - root - INFO - Model path: models/model.pkl
2025-08-06 07:05:43,148 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.102:5001
2025-08-06 07:05:43,148 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-06 07:05:54,212 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 07:05:54] "GET /api/logs/predictions/recent?count=2 HTTP/1.1" 200 -
2025-08-06 07:06:01,156 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 07:06:01] "GET /api/logs/predictions/search?longitude=-122.23&latitude=37.88 HTTP/1.1" 200 -
2025-08-06 07:06:16,563 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 07:06:16] "GET /api/logs/predictions?limit=10&min_price=300000 HTTP/1.1" 200 -
2025-08-06 07:06:31,982 - src.models.predict - INFO - Made prediction for 1 samples
2025-08-06 07:06:31,983 - src.utils.database - INFO - Logged prediction request 5 for endpoint /api/predict
2025-08-06 07:06:31,983 - api - INFO - Prediction made
2025-08-06 07:06:31,986 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 07:06:31] "POST /api/predict HTTP/1.1" 200 -
2025-08-06 07:06:41,998 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 07:06:41] "GET /api/logs/predictions/recent?count=1 HTTP/1.1" 200 -
2025-08-06 08:01:12,350 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 08:01:12] "GET /api/logs/predictions?min_price=300000&hours=24 HTTP/1.1" 200 -
2025-08-06 08:01:12,463 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 08:01:12] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-08-06 08:01:46,678 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 08:01:46] "GET / HTTP/1.1" 200 -
2025-08-06 08:45:07,953 - src.utils.monitoring - INFO - Registered health check: disk_space
2025-08-06 08:45:07,953 - src.utils.monitoring - INFO - Registered health check: memory_usage
2025-08-06 08:45:07,953 - src.utils.monitoring - INFO - Registered health check: cpu_usage
2025-08-06 08:45:07,959 - src.utils.monitoring - INFO - Registered health check: model_loaded
2025-08-06 08:45:07,959 - src.utils.monitoring - INFO - Registered health check: database_connection
2025-08-06 08:45:07,959 - src.utils.monitoring - INFO - Registered health check: mlflow_connection
2025-08-06 08:45:07,959 - root - INFO - Initializing California Housing API...
2025-08-06 08:45:07,959 - src.utils.mlflow_tracking - INFO - MLflow Model Registry initialized with tracking URI: http://localhost:5000
2025-08-06 08:45:08,294 - src.utils.mlflow_tracking - ERROR - Error initializing MLflow tracking: API request to endpoint /api/2.0/mlflow/experiments/get-by-name failed with error code 403 != 200. Response body: ''
2025-08-06 08:45:08,294 - root - WARNING - MLflow initialization failed, continuing without MLflow
2025-08-06 08:45:08,294 - src.models.predict - INFO - MLflow registry initialized for model loading
2025-08-06 08:45:08,324 - src.utils.mlflow_tracking - ERROR - Error getting latest model version for california_housing_best_model: API request to endpoint /api/2.0/mlflow/registered-models/get-latest-versions failed with error code 403 != 200. Response body: ''
2025-08-06 08:45:08,324 - src.utils.mlflow_tracking - ERROR - Error loading model from registry: No model found for california_housing_best_model in stage Production
2025-08-06 08:45:08,324 - src.models.predict - WARNING - Failed to load model from MLflow registry: No model found for california_housing_best_model in stage Production
2025-08-06 08:45:08,324 - src.models.predict - INFO - Falling back to local model file
2025-08-06 08:45:09,298 - src.models.predict - INFO - Model loaded successfully from local file: models/model.pkl
2025-08-06 08:45:09,300 - src.utils.mlflow_tracking - ERROR - Error getting model info: API request to endpoint /api/2.0/mlflow/registered-models/get failed with error code 403 != 200. Response body: ''
2025-08-06 08:45:09,300 - api - INFO - Model loaded
2025-08-06 08:45:09,300 - root - INFO - Model loaded successfully: local_model
2025-08-06 08:45:09,301 - src.utils.database - INFO - Database tables initialized successfully
2025-08-06 08:45:09,301 - src.utils.database - INFO - Initialized prediction database at logs/predictions.db
2025-08-06 08:45:09,301 - root - INFO - Database initialized successfully
2025-08-06 08:45:09,301 - root - INFO - California Housing API initialized successfully
2025-08-06 08:45:09,303 - root - INFO - Starting California Housing API on 0.0.0.0:5001
2025-08-06 08:45:09,303 - root - INFO - Debug mode: False
2025-08-06 08:45:09,303 - root - INFO - Model path: models/model.pkl
2025-08-06 08:45:09,311 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.102:5001
2025-08-06 08:45:09,311 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-06 08:45:21,122 - src.models.predict - INFO - Made prediction for 1 samples
2025-08-06 08:45:21,123 - src.utils.database - INFO - Logged prediction request 9 for endpoint /api/predict
2025-08-06 08:45:21,250 - api - INFO - Prediction made
2025-08-06 08:45:21,254 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 08:45:21] "POST /api/predict HTTP/1.1" 200 -
2025-08-06 08:46:13,316 - src.models.predict - INFO - Made prediction for 1 samples
2025-08-06 08:46:13,318 - src.utils.database - INFO - Logged prediction request 10 for endpoint /api/predict
2025-08-06 08:46:13,336 - api - INFO - Prediction made
2025-08-06 08:46:13,339 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 08:46:13] "POST /api/predict HTTP/1.1" 200 -
2025-08-06 08:47:56,603 - src.models.predict - INFO - Made prediction for 1 samples
2025-08-06 08:47:56,605 - src.utils.database - INFO - Logged prediction request 11 for endpoint /api/predict
2025-08-06 08:47:56,638 - api - INFO - Prediction made
2025-08-06 08:47:56,641 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 08:47:56] "POST /api/predict HTTP/1.1" 200 -
2025-08-06 08:47:56,645 - src.models.predict - INFO - Made prediction for 1 samples
2025-08-06 08:47:56,646 - src.utils.database - INFO - Logged prediction request 12 for endpoint /api/predict
2025-08-06 08:47:56,665 - api - INFO - Prediction made
2025-08-06 08:47:56,669 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 08:47:56] "POST /api/predict HTTP/1.1" 200 -
2025-08-06 08:47:56,674 - src.models.predict - INFO - Made prediction for 1 samples
2025-08-06 08:47:56,675 - src.utils.database - INFO - Logged prediction request 13 for endpoint /api/predict
2025-08-06 08:47:56,695 - api - INFO - Prediction made
2025-08-06 08:47:56,700 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 08:47:56] "POST /api/predict HTTP/1.1" 200 -
2025-08-06 08:48:51,060 - src.utils.monitoring - ERROR - Health check database_connection failed: 'PredictionDatabase' object has no attribute 'test_connection'
2025-08-06 08:48:51,061 - api - INFO - Health check: unhealthy
2025-08-06 08:48:51,063 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 08:48:51] "GET /health HTTP/1.1" 200 -
2025-08-06 08:48:51,067 - src.models.predict - INFO - Made prediction for 1 samples
2025-08-06 08:48:51,069 - src.utils.database - INFO - Logged prediction request 14 for endpoint /api/predict
2025-08-06 08:48:51,100 - api - INFO - Prediction made
2025-08-06 08:48:51,102 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 08:48:51] "POST /api/predict HTTP/1.1" 200 -
2025-08-06 10:39:33,612 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 10:39:33] "GET / HTTP/1.1" 200 -
2025-08-06 10:39:35,659 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 10:39:35] "GET /api/logs/predictions?min_price=300000&hours=24 HTTP/1.1" 200 -
2025-08-06 12:28:37,466 - src.utils.monitoring - INFO - Registered health check: disk_space
2025-08-06 12:28:37,466 - src.utils.monitoring - INFO - Registered health check: memory_usage
2025-08-06 12:28:37,466 - src.utils.monitoring - INFO - Registered health check: cpu_usage
2025-08-06 12:28:37,489 - src.utils.prometheus_metrics - INFO - Prometheus metrics collector initialized
2025-08-06 12:28:37,490 - src.utils.prometheus_metrics - INFO - Prometheus metrics collector initialized globally
2025-08-06 12:28:37,491 - src.utils.monitoring - INFO - Registered health check: model_loaded
2025-08-06 12:28:37,491 - src.utils.monitoring - INFO - Registered health check: database_connection
2025-08-06 12:28:37,491 - src.utils.monitoring - INFO - Registered health check: mlflow_connection
2025-08-06 12:28:37,491 - root - INFO - Initializing California Housing API...
2025-08-06 12:28:37,491 - src.utils.mlflow_tracking - INFO - MLflow Model Registry initialized with tracking URI: http://localhost:5000
2025-08-06 12:28:38,054 - src.utils.mlflow_tracking - ERROR - Error initializing MLflow tracking: API request to endpoint /api/2.0/mlflow/experiments/get-by-name failed with error code 403 != 200. Response body: ''
2025-08-06 12:28:38,054 - root - WARNING - MLflow initialization failed, continuing without MLflow
2025-08-06 12:28:38,054 - src.models.predict - INFO - MLflow registry initialized for model loading
2025-08-06 12:28:38,083 - src.utils.mlflow_tracking - ERROR - Error getting latest model version for california_housing_best_model: API request to endpoint /api/2.0/mlflow/registered-models/get-latest-versions failed with error code 403 != 200. Response body: ''
2025-08-06 12:28:38,083 - src.utils.mlflow_tracking - ERROR - Error loading model from registry: No model found for california_housing_best_model in stage Production
2025-08-06 12:28:38,083 - src.models.predict - WARNING - Failed to load model from MLflow registry: No model found for california_housing_best_model in stage Production
2025-08-06 12:28:38,083 - src.models.predict - INFO - Falling back to local model file
2025-08-06 12:28:41,730 - src.models.predict - INFO - Model loaded successfully from local file: models/model.pkl
2025-08-06 12:28:41,732 - src.utils.mlflow_tracking - ERROR - Error getting model info: API request to endpoint /api/2.0/mlflow/registered-models/get failed with error code 403 != 200. Response body: ''
2025-08-06 12:28:41,732 - api - INFO - Model loaded
2025-08-06 12:28:41,733 - root - INFO - Model loaded successfully: local_model
2025-08-06 12:28:41,733 - src.utils.database - INFO - Database tables initialized successfully
2025-08-06 12:28:41,734 - src.utils.database - INFO - Initialized prediction database at logs/predictions.db
2025-08-06 12:28:41,734 - root - INFO - Database initialized successfully
2025-08-06 12:28:41,734 - root - INFO - California Housing API initialized successfully
2025-08-06 12:28:59,228 - src.utils.monitoring - INFO - Registered health check: disk_space
2025-08-06 12:28:59,228 - src.utils.monitoring - INFO - Registered health check: memory_usage
2025-08-06 12:28:59,228 - src.utils.monitoring - INFO - Registered health check: cpu_usage
2025-08-06 12:28:59,248 - src.utils.prometheus_metrics - INFO - Prometheus metrics collector initialized
2025-08-06 12:28:59,248 - src.utils.prometheus_metrics - INFO - Prometheus metrics collector initialized globally
2025-08-06 12:28:59,250 - src.utils.monitoring - INFO - Registered health check: model_loaded
2025-08-06 12:28:59,250 - src.utils.monitoring - INFO - Registered health check: database_connection
2025-08-06 12:28:59,250 - src.utils.monitoring - INFO - Registered health check: mlflow_connection
2025-08-06 12:28:59,250 - root - INFO - Initializing California Housing API...
2025-08-06 12:28:59,250 - src.utils.mlflow_tracking - INFO - MLflow Model Registry initialized with tracking URI: http://localhost:5000
2025-08-06 12:28:59,628 - src.utils.mlflow_tracking - ERROR - Error initializing MLflow tracking: API request to endpoint /api/2.0/mlflow/experiments/get-by-name failed with error code 403 != 200. Response body: ''
2025-08-06 12:28:59,628 - root - WARNING - MLflow initialization failed, continuing without MLflow
2025-08-06 12:28:59,628 - src.models.predict - INFO - MLflow registry initialized for model loading
2025-08-06 12:28:59,653 - src.utils.mlflow_tracking - ERROR - Error getting latest model version for california_housing_best_model: API request to endpoint /api/2.0/mlflow/registered-models/get-latest-versions failed with error code 403 != 200. Response body: ''
2025-08-06 12:28:59,653 - src.utils.mlflow_tracking - ERROR - Error loading model from registry: No model found for california_housing_best_model in stage Production
2025-08-06 12:28:59,653 - src.models.predict - WARNING - Failed to load model from MLflow registry: No model found for california_housing_best_model in stage Production
2025-08-06 12:28:59,653 - src.models.predict - INFO - Falling back to local model file
2025-08-06 12:29:00,782 - src.models.predict - INFO - Model loaded successfully from local file: models/model.pkl
2025-08-06 12:29:00,784 - src.utils.mlflow_tracking - ERROR - Error getting model info: API request to endpoint /api/2.0/mlflow/registered-models/get failed with error code 403 != 200. Response body: ''
2025-08-06 12:29:00,784 - api - INFO - Model loaded
2025-08-06 12:29:00,784 - root - INFO - Model loaded successfully: local_model
2025-08-06 12:29:00,785 - src.utils.database - INFO - Database tables initialized successfully
2025-08-06 12:29:00,785 - src.utils.database - INFO - Initialized prediction database at logs/predictions.db
2025-08-06 12:29:00,785 - root - INFO - Database initialized successfully
2025-08-06 12:29:00,785 - root - INFO - California Housing API initialized successfully
2025-08-06 12:29:42,711 - src.utils.monitoring - INFO - Registered health check: disk_space
2025-08-06 12:29:42,712 - src.utils.monitoring - INFO - Registered health check: memory_usage
2025-08-06 12:29:42,712 - src.utils.monitoring - INFO - Registered health check: cpu_usage
2025-08-06 12:29:42,732 - src.utils.prometheus_metrics - INFO - Prometheus metrics collector initialized
2025-08-06 12:29:42,732 - src.utils.prometheus_metrics - INFO - Prometheus metrics collector initialized globally
2025-08-06 12:29:42,733 - src.utils.monitoring - INFO - Registered health check: model_loaded
2025-08-06 12:29:42,733 - src.utils.monitoring - INFO - Registered health check: database_connection
2025-08-06 12:29:42,733 - src.utils.monitoring - INFO - Registered health check: mlflow_connection
2025-08-06 12:29:42,733 - root - INFO - Initializing California Housing API...
2025-08-06 12:29:42,733 - src.utils.mlflow_tracking - INFO - MLflow Model Registry initialized with tracking URI: http://localhost:5000
2025-08-06 12:29:43,067 - src.utils.mlflow_tracking - ERROR - Error initializing MLflow tracking: API request to endpoint /api/2.0/mlflow/experiments/get-by-name failed with error code 403 != 200. Response body: ''
2025-08-06 12:29:43,067 - root - WARNING - MLflow initialization failed, continuing without MLflow
2025-08-06 12:29:43,067 - src.models.predict - INFO - MLflow registry initialized for model loading
2025-08-06 12:29:43,098 - src.utils.mlflow_tracking - ERROR - Error getting latest model version for california_housing_best_model: API request to endpoint /api/2.0/mlflow/registered-models/get-latest-versions failed with error code 403 != 200. Response body: ''
2025-08-06 12:29:43,098 - src.utils.mlflow_tracking - ERROR - Error loading model from registry: No model found for california_housing_best_model in stage Production
2025-08-06 12:29:43,098 - src.models.predict - WARNING - Failed to load model from MLflow registry: No model found for california_housing_best_model in stage Production
2025-08-06 12:29:43,098 - src.models.predict - INFO - Falling back to local model file
2025-08-06 12:29:44,227 - src.models.predict - INFO - Model loaded successfully from local file: models/model.pkl
2025-08-06 12:29:44,229 - src.utils.mlflow_tracking - ERROR - Error getting model info: API request to endpoint /api/2.0/mlflow/registered-models/get failed with error code 403 != 200. Response body: ''
2025-08-06 12:29:44,229 - api - INFO - Model loaded
2025-08-06 12:29:44,230 - root - INFO - Model loaded successfully: local_model
2025-08-06 12:29:44,230 - src.utils.database - INFO - Database tables initialized successfully
2025-08-06 12:29:44,230 - src.utils.database - INFO - Initialized prediction database at logs/predictions.db
2025-08-06 12:29:44,230 - root - INFO - Database initialized successfully
2025-08-06 12:29:44,230 - root - INFO - California Housing API initialized successfully
2025-08-06 12:29:44,245 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.102:5001
2025-08-06 12:29:44,245 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-06 12:29:57,499 - api - INFO - Health check: unhealthy
2025-08-06 12:29:57,511 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 12:29:57] "GET /health HTTP/1.1" 200 -
2025-08-06 12:30:06,618 - src.utils.prometheus_metrics - INFO - Updating all Prometheus metrics...
2025-08-06 12:30:06,619 - src.utils.prometheus_metrics - INFO - Collected 20 database metrics
2025-08-06 12:30:06,694 - src.utils.prometheus_metrics - ERROR - Error collecting MLflow metrics: 'metrics.processing_time_ms'
2025-08-06 12:30:06,694 - src.utils.prometheus_metrics - INFO - Collected 12 MLflow metrics
2025-08-06 12:30:06,694 - src.utils.prometheus_metrics - INFO - All Prometheus metrics updated successfully
2025-08-06 12:30:06,694 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 12:30:06] "GET /api/monitoring/metrics HTTP/1.1" 200 -
2025-08-06 12:30:23,179 - api - INFO - Health check: unhealthy
2025-08-06 12:30:23,187 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 12:30:23] "GET /health HTTP/1.1" 200 -
2025-08-06 12:30:23,194 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 12:30:23] "GET /metrics/prometheus HTTP/1.1" 200 -
2025-08-06 12:30:23,199 - src.utils.prometheus_metrics - INFO - Updating all Prometheus metrics...
2025-08-06 12:30:23,200 - src.utils.prometheus_metrics - INFO - Collected 20 database metrics
2025-08-06 12:30:23,279 - src.utils.prometheus_metrics - ERROR - Error collecting MLflow metrics: 'metrics.processing_time_ms'
2025-08-06 12:30:23,279 - src.utils.prometheus_metrics - INFO - Collected 12 MLflow metrics
2025-08-06 12:30:23,279 - src.utils.prometheus_metrics - INFO - All Prometheus metrics updated successfully
2025-08-06 12:30:23,279 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 12:30:23] "GET /api/monitoring/metrics HTTP/1.1" 200 -
2025-08-06 12:30:23,287 - src.models.predict - INFO - Made prediction for 1 samples
2025-08-06 12:30:23,289 - src.utils.database - INFO - Logged prediction request 22 for endpoint /api/predict
2025-08-06 12:30:23,458 - api - INFO - Prediction made
2025-08-06 12:30:23,459 - root - ERROR - Error recording Prometheus metrics: PrometheusMetricsCollector.record_prediction_metric() got an unexpected keyword argument 'prediction'
2025-08-06 12:30:23,461 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 12:30:23] "POST /api/predict HTTP/1.1" 200 -
2025-08-06 12:30:23,467 - src.models.predict - INFO - Made prediction for 1 samples
2025-08-06 12:30:23,468 - src.utils.database - INFO - Logged prediction request 23 for endpoint /api/predict
2025-08-06 12:30:23,489 - api - INFO - Prediction made
2025-08-06 12:30:23,491 - root - ERROR - Error recording Prometheus metrics: PrometheusMetricsCollector.record_prediction_metric() got an unexpected keyword argument 'prediction'
2025-08-06 12:30:23,493 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 12:30:23] "POST /api/predict HTTP/1.1" 200 -
2025-08-06 12:30:23,497 - src.models.predict - INFO - Made prediction for 1 samples
2025-08-06 12:30:23,498 - src.utils.database - INFO - Logged prediction request 24 for endpoint /api/predict
2025-08-06 12:30:23,519 - api - INFO - Prediction made
2025-08-06 12:30:23,521 - root - ERROR - Error recording Prometheus metrics: PrometheusMetricsCollector.record_prediction_metric() got an unexpected keyword argument 'prediction'
2025-08-06 12:30:23,522 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 12:30:23] "POST /api/predict HTTP/1.1" 200 -
2025-08-06 12:30:25,534 - src.utils.prometheus_metrics - INFO - Updating all Prometheus metrics...
2025-08-06 12:30:25,536 - src.utils.prometheus_metrics - INFO - Collected 20 database metrics
2025-08-06 12:30:25,631 - src.utils.prometheus_metrics - ERROR - Error collecting MLflow metrics: 'metrics.processing_time_ms'
2025-08-06 12:30:25,631 - src.utils.prometheus_metrics - INFO - Collected 12 MLflow metrics
2025-08-06 12:30:25,631 - src.utils.prometheus_metrics - INFO - All Prometheus metrics updated successfully
2025-08-06 12:30:25,631 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 12:30:25] "GET /api/monitoring/metrics HTTP/1.1" 200 -
2025-08-06 12:31:40,723 - src.utils.monitoring - INFO - Registered health check: disk_space
2025-08-06 12:31:40,723 - src.utils.monitoring - INFO - Registered health check: memory_usage
2025-08-06 12:31:40,723 - src.utils.monitoring - INFO - Registered health check: cpu_usage
2025-08-06 12:31:40,743 - src.utils.prometheus_metrics - INFO - Prometheus metrics collector initialized
2025-08-06 12:31:40,743 - src.utils.prometheus_metrics - INFO - Prometheus metrics collector initialized globally
2025-08-06 12:31:40,744 - src.utils.monitoring - INFO - Registered health check: model_loaded
2025-08-06 12:31:40,744 - src.utils.monitoring - INFO - Registered health check: database_connection
2025-08-06 12:31:40,744 - src.utils.monitoring - INFO - Registered health check: mlflow_connection
2025-08-06 12:31:40,744 - root - INFO - Initializing California Housing API...
2025-08-06 12:31:40,744 - src.utils.mlflow_tracking - INFO - MLflow Model Registry initialized with tracking URI: http://localhost:5000
2025-08-06 12:31:41,075 - src.utils.mlflow_tracking - ERROR - Error initializing MLflow tracking: API request to endpoint /api/2.0/mlflow/experiments/get-by-name failed with error code 403 != 200. Response body: ''
2025-08-06 12:31:41,076 - root - WARNING - MLflow initialization failed, continuing without MLflow
2025-08-06 12:31:41,076 - src.models.predict - INFO - MLflow registry initialized for model loading
2025-08-06 12:31:41,104 - src.utils.mlflow_tracking - ERROR - Error getting latest model version for california_housing_best_model: API request to endpoint /api/2.0/mlflow/registered-models/get-latest-versions failed with error code 403 != 200. Response body: ''
2025-08-06 12:31:41,105 - src.utils.mlflow_tracking - ERROR - Error loading model from registry: No model found for california_housing_best_model in stage Production
2025-08-06 12:31:41,105 - src.models.predict - WARNING - Failed to load model from MLflow registry: No model found for california_housing_best_model in stage Production
2025-08-06 12:31:41,105 - src.models.predict - INFO - Falling back to local model file
2025-08-06 12:31:42,135 - src.models.predict - INFO - Model loaded successfully from local file: models/model.pkl
2025-08-06 12:31:42,137 - src.utils.mlflow_tracking - ERROR - Error getting model info: API request to endpoint /api/2.0/mlflow/registered-models/get failed with error code 403 != 200. Response body: ''
2025-08-06 12:31:42,137 - api - INFO - Model loaded
2025-08-06 12:31:42,137 - root - INFO - Model loaded successfully: local_model
2025-08-06 12:31:42,138 - src.utils.database - INFO - Database tables initialized successfully
2025-08-06 12:31:42,138 - src.utils.database - INFO - Initialized prediction database at logs/predictions.db
2025-08-06 12:31:42,138 - root - INFO - Database initialized successfully
2025-08-06 12:31:42,138 - root - INFO - California Housing API initialized successfully
2025-08-06 12:31:42,150 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.1.102:5001
2025-08-06 12:31:42,150 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-08-06 12:31:50,823 - src.models.predict - INFO - Made prediction for 1 samples
2025-08-06 12:31:50,825 - src.utils.database - INFO - Logged prediction request 25 for endpoint /api/predict
2025-08-06 12:31:50,994 - api - INFO - Prediction made
2025-08-06 12:31:50,999 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 12:31:50] "POST /api/predict HTTP/1.1" 200 -
2025-08-06 12:32:05,703 - src.utils.prometheus_metrics - INFO - Updating all Prometheus metrics...
2025-08-06 12:32:05,705 - src.utils.prometheus_metrics - INFO - Collected 20 database metrics
2025-08-06 12:32:05,792 - src.utils.prometheus_metrics - ERROR - Error collecting MLflow metrics: 'metrics.processing_time_ms'
2025-08-06 12:32:05,792 - src.utils.prometheus_metrics - INFO - Collected 12 MLflow metrics
2025-08-06 12:32:05,792 - src.utils.prometheus_metrics - INFO - All Prometheus metrics updated successfully
2025-08-06 12:32:05,792 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 12:32:05] "GET /api/monitoring/metrics HTTP/1.1" 200 -
2025-08-06 12:32:17,760 - api - INFO - Health check: unhealthy
2025-08-06 12:32:17,768 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 12:32:17] "GET /health HTTP/1.1" 200 -
2025-08-06 12:32:17,774 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 12:32:17] "GET /metrics/prometheus HTTP/1.1" 200 -
2025-08-06 12:32:17,779 - src.utils.prometheus_metrics - INFO - Updating all Prometheus metrics...
2025-08-06 12:32:17,780 - src.utils.prometheus_metrics - INFO - Collected 20 database metrics
2025-08-06 12:32:17,880 - src.utils.prometheus_metrics - ERROR - Error collecting MLflow metrics: 'metrics.processing_time_ms'
2025-08-06 12:32:17,880 - src.utils.prometheus_metrics - INFO - Collected 12 MLflow metrics
2025-08-06 12:32:17,880 - src.utils.prometheus_metrics - INFO - All Prometheus metrics updated successfully
2025-08-06 12:32:17,880 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 12:32:17] "GET /api/monitoring/metrics HTTP/1.1" 200 -
2025-08-06 12:32:17,886 - src.models.predict - INFO - Made prediction for 1 samples
2025-08-06 12:32:17,887 - src.utils.database - INFO - Logged prediction request 26 for endpoint /api/predict
2025-08-06 12:32:17,956 - api - INFO - Prediction made
2025-08-06 12:32:17,959 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 12:32:17] "POST /api/predict HTTP/1.1" 200 -
2025-08-06 12:32:17,964 - src.models.predict - INFO - Made prediction for 1 samples
2025-08-06 12:32:17,965 - src.utils.database - INFO - Logged prediction request 27 for endpoint /api/predict
2025-08-06 12:32:17,985 - api - INFO - Prediction made
2025-08-06 12:32:17,988 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 12:32:17] "POST /api/predict HTTP/1.1" 200 -
2025-08-06 12:32:17,993 - src.models.predict - INFO - Made prediction for 1 samples
2025-08-06 12:32:17,994 - src.utils.database - INFO - Logged prediction request 28 for endpoint /api/predict
2025-08-06 12:32:18,015 - api - INFO - Prediction made
2025-08-06 12:32:18,018 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 12:32:18] "POST /api/predict HTTP/1.1" 200 -
2025-08-06 12:32:20,028 - src.utils.prometheus_metrics - INFO - Updating all Prometheus metrics...
2025-08-06 12:32:20,030 - src.utils.prometheus_metrics - INFO - Collected 20 database metrics
2025-08-06 12:32:20,144 - src.utils.prometheus_metrics - ERROR - Error collecting MLflow metrics: 'metrics.processing_time_ms'
2025-08-06 12:32:20,144 - src.utils.prometheus_metrics - INFO - Collected 12 MLflow metrics
2025-08-06 12:32:20,144 - src.utils.prometheus_metrics - INFO - All Prometheus metrics updated successfully
2025-08-06 12:32:20,145 - werkzeug - INFO - 127.0.0.1 - - [06/Aug/2025 12:32:20] "GET /api/monitoring/metrics HTTP/1.1" 200 -
